# Guild Builder 2.0 — La Taverna dei Compagni (final) — Istruzioni per sviluppo

Questo documento raccoglie tutte le istruzioni tecniche e UX per la challenge "Guild Builder 2.0 — La Taverna dei Compagni" (id: `guild-builder`).

## Scopo

L'utente compone un gruppo di companions che soddisfi un requisito di ruolo. La challenge è completata quando la selezione rispetta il requisito e viene aggiornato `gameProgress`.

## Esperienza utente (flow end-to-end)

1. Entrata nella challenge

   - L'utente seleziona il nodo "Guild Builder" (id: `guild-builder`) sulla mappa.
   - Viene mostrata la schermata della challenge con titolo, descrizione breve, progresso corrente e la lista/griglia dei companions disponibili.

2. Visuale principale

   - Griglia di companions: card con avatar, nome e ruolo.
   - CTA persistente per selezionare i companions richiesti.
   - Empty state: invito a creare il primo gruppo.

3. Selezione e conferma

   - L'utente seleziona i companions e preme "Conferma".
   - Validazione client-side: mapping roles → selezione.
   - Se valida: aggiornamento progresso e overlay "Challenge completata!".

## Contract tecnico

### Payload e tipi principali

```ts
type Requirement = { id: string; text: string; roles: string[] };
type Companion = { id: string; name: string; role: string; avatarUrl: string };
```

### game-data.json snippet suggerito

```json
"challenges": [
  {
    "id": "guild-builder",
    "title": "Guild Builder 2.0 — La Taverna dei Compagni (final)",
    "type": "roles",
    "requirements": { "type": "roles", "roles": ["designer","developer","social-wizard"], "minSelected": 3 }
  }
]
```

## Note di implementazione e priorità

1. Implementare UI: requirement card, selection grid, confirmation flow.
2. Implementare validation logic e test.
3. Integrare asset avatar e role icons.
